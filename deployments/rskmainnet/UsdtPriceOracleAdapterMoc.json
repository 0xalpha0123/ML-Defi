{
  "address": "0x6D4174b7290d207C5631E4DA6e9A0F1e3aCd7411",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "guardian_",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "priceProvider",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "oldGuardian",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "newGuardian",
          "type": "address"
        }
      ],
      "name": "NewGuardian",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "oldAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "newAddress",
          "type": "address"
        }
      ],
      "name": "PriceOracleAdapterUpdated",
      "type": "event"
    },
    {
      "constant": true,
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "assetPrices",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "guardian",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "priceProviderMoC",
      "outputs": [
        {
          "internalType": "contract PriceProviderMoC",
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "internalType": "address",
          "name": "newGuardian",
          "type": "address"
        }
      ],
      "name": "setGuardian",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "internalType": "address",
          "name": "priceProviderAddress",
          "type": "address"
        }
      ],
      "name": "setPriceProvider",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x8b23fbf6588c2cc07ac65a82d825475a759c37a425204128c13c7a3863523641",
  "receipt": {
    "to": null,
    "from": "0x9C95B0EF2D3E1D9ca479524Ba738C87BE28C1585",
    "contractAddress": "0x6D4174b7290d207C5631E4DA6e9A0F1e3aCd7411",
    "transactionIndex": 0,
    "gasUsed": "459000",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x8507dab6f4ca618223ab46e957e2fb259eb477bc6b6881fdb7390bf6286edd52",
    "transactionHash": "0x8b23fbf6588c2cc07ac65a82d825475a759c37a425204128c13c7a3863523641",
    "logs": [],
    "blockNumber": 3154522,
    "cumulativeGasUsed": "459000",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x2992181d390c5F35A70c8012A8a6a4A6b7603a37",
    "0x7fAf361A1Ff5404f2E7A9Bf44b94c95b61b0749b"
  ],
  "solcInputHash": "578f3bae9e139e044e8bf9be29159ced",
  "metadata": "{\"compiler\":{\"version\":\"0.5.17+commit.d19bba13.mod\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"guardian_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"priceProvider\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"oldGuardian\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newGuardian\",\"type\":\"address\"}],\"name\":\"NewGuardian\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"oldAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newAddress\",\"type\":\"address\"}],\"name\":\"PriceOracleAdapterUpdated\",\"type\":\"event\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"assetPrices\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"guardian\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"priceProviderMoC\",\"outputs\":[{\"internalType\":\"contract PriceProviderMoC\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"newGuardian\",\"type\":\"address\"}],\"name\":\"setGuardian\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"priceProviderAddress\",\"type\":\"address\"}],\"name\":\"setPriceProvider\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"methods\":{\"assetPrices(address)\":{\"return\":\"The price\"},\"constructor\":{\"params\":{\"guardian_\":\"address of guardian that is allowed to manage this contract\",\"priceProvider\":\"address of asset's MoC price provider\"}},\"setGuardian(address)\":{\"params\":{\"newGuardian\":\"address of the guardian\"}},\"setPriceProvider(address)\":{\"params\":{\"priceProviderAddress\":\"address of price provider\"}}}},\"userdoc\":{\"methods\":{\"assetPrices(address)\":{\"notice\":\"Get the price from MoC and divide it by the rBTC price\"},\"constructor\":\"Construct a PriceOracleAdapter for a MoC oracle\",\"setGuardian(address)\":{\"notice\":\"Set the address of the guardian\"},\"setPriceProvider(address)\":{\"notice\":\"Set the address of price provider\"}}}},\"settings\":{\"compilationTarget\":{\"contracts/PriceOracleAdapterMoc.sol\":\"PriceOracleAdapterMoc\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/PriceOracleAdapter.sol\":{\"content\":\"pragma solidity ^0.5.16;\\n\\ncontract PriceOracleAdapter {\\n    /// @notice Event adapter interface updated\\n    event PriceOracleAdapterUpdated(address oldAddress, address newAddress);\\n\\n    /**\\n     * @notice Get the price\\n     * @return The underlying asset price mantissa (scaled by 1e18).\\n     *  Zero means the price is unavailable.\\n     */\\n    function assetPrices(address cTokenAddress) external view returns (uint256);\\n}\\n\",\"keccak256\":\"0xa1e552b66c487513978cea1b1f25bd6e25d0d21adfeae879f5dff7f5d88a7204\"},\"contracts/PriceOracleAdapterMoc.sol\":{\"content\":\"pragma solidity ^0.5.16;\\n\\nimport \\\"./PriceOracleAdapter.sol\\\";\\n\\ninterface PriceProviderMoC {\\n    function peek() external view returns (bytes32, bool);\\n}\\n\\ncontract PriceOracleAdapterMoc is PriceOracleAdapter {\\n    /// @notice Address of the guardian\\n    address public guardian;\\n    /// @notice The MoC price oracle, which will continue to serve prices\\n    PriceProviderMoC public priceProviderMoC;\\n\\n    /// @notice Guardian updated\\n    event NewGuardian(address oldGuardian,address newGuardian);\\n\\n    /**\\n     * @notice Construct a PriceOracleAdapter for a MoC oracle\\n     * @param guardian_ address of guardian that is allowed to manage this contract\\n     * @param priceProvider address of asset's MoC price provider\\n     */\\n    constructor(address guardian_,address priceProvider) public {\\n        require(\\n            guardian_ != address(0),\\n            \\\"PriceOracleAdapterMoc: guardian could not be 0\\\"\\n        );\\n        require(\\n            priceProvider != address(0),\\n            \\\"PriceOracleAdapterMoc: priceProvider could not be 0\\\"\\n        );\\n        guardian = guardian_;\\n        priceProviderMoC = PriceProviderMoC(priceProvider);\\n    }\\n\\n    /**\\n     * @notice Get the price from MoC and divide it by the rBTC price\\n     * @return The price\\n     */\\n    function assetPrices(address) public view returns (uint256) {\\n        (bytes32 price, bool has) = priceProviderMoC.peek();\\n        require(has, \\\"PriceOracleAdapterMoc: Oracle have no Price\\\");\\n        return uint256(price);\\n    }\\n\\n    /**\\n     * @notice Set the address of price provider\\n     * @param priceProviderAddress address of price provider\\n     */\\n    function setPriceProvider(address priceProviderAddress) public {\\n        require(\\n            msg.sender == guardian,\\n            \\\"PriceOracleAdapterMoc: only guardian may set the address\\\"\\n        );\\n        require(\\n            priceProviderAddress != address(0),\\n            \\\"PriceOracleAdapterMoc: address could not be 0\\\"\\n        );\\n        //set old address\\n        address oldPriceProviderAddress = address(priceProviderMoC);\\n        //update interface address\\n        priceProviderMoC = PriceProviderMoC(priceProviderAddress);\\n        //emit event\\n        emit PriceOracleAdapterUpdated(\\n            oldPriceProviderAddress,\\n            priceProviderAddress\\n        );\\n    }\\n\\n    /**\\n     * @notice Set the address of the guardian\\n     * @param newGuardian address of the guardian\\n     */\\n    function setGuardian(address newGuardian) public {\\n        require(\\n            msg.sender == guardian,\\n            \\\"PriceOracleAdapterMoc: only guardian\\\"\\n        );\\n        require(\\n            guardian != address(0),\\n            \\\"PriceOracleAdapterMoc: guardin address can not be 0\\\"\\n        );\\n        //set old address\\n        address oldGuardian = guardian;\\n        //update\\n        guardian = newGuardian;\\n        //emit event\\n        emit NewGuardian(\\n            oldGuardian,\\n            newGuardian\\n        );\\n    }\\n}\\n\",\"keccak256\":\"0x57ace601095fc5e218ff76efe26b1c1485d822e0ff676d8da686cb867765bd59\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5060405161065b38038061065b8339818101604052604081101561003357600080fd5b5080516020909101516001600160a01b0382166100815760405162461bcd60e51b815260040180806020018281038252602e8152602001806105fa602e913960400191505060405180910390fd5b6001600160a01b0381166100c65760405162461bcd60e51b81526004018080602001828103825260338152602001806106286033913960400191505060405180910390fd5b600080546001600160a01b039384166001600160a01b031991821617909155600180549290931691161790556104f9806101016000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c806303fa251b1461005c578063372aa22414610080578063452a9320146100a85780635e9a523c146100b05780638a0dac4a146100e8575b600080fd5b61006461010e565b604080516001600160a01b039092168252519081900360200190f35b6100a66004803603602081101561009657600080fd5b50356001600160a01b031661011d565b005b61006461020e565b6100d6600480360360208110156100c657600080fd5b50356001600160a01b031661021d565b60408051918252519081900360200190f35b6100a6600480360360208110156100fe57600080fd5b50356001600160a01b03166102ea565b6001546001600160a01b031681565b6000546001600160a01b031633146101665760405162461bcd60e51b81526004018080602001828103825260388152602001806104096038913960400191505060405180910390fd5b6001600160a01b0381166101ab5760405162461bcd60e51b815260040180806020018281038252602d815260200180610498602d913960400191505060405180910390fd5b600180546001600160a01b038381166001600160a01b0319831681179093556040805191909216808252602082019390935281517f58d7caa9bcc8339b310213ec53c711c9157920c93aef03ac3c4a16ce01bc602e929181900390910190a15050565b6000546001600160a01b031681565b6000806000600160009054906101000a90046001600160a01b03166001600160a01b03166359e02dd76040518163ffffffff1660e01b8152600401604080518083038186803b15801561026f57600080fd5b505afa158015610283573d6000803e3d6000fd5b505050506040513d604081101561029957600080fd5b5080516020909101519092509050806102e35760405162461bcd60e51b815260040180806020018281038252602b8152602001806103de602b913960400191505060405180910390fd5b5092915050565b6000546001600160a01b031633146103335760405162461bcd60e51b81526004018080602001828103825260248152602001806104746024913960400191505060405180910390fd5b6000546001600160a01b031661037a5760405162461bcd60e51b81526004018080602001828103825260338152602001806104416033913960400191505060405180910390fd5b600080546001600160a01b038381166001600160a01b0319831681179093556040805191909216808252602082019390935281517f08fdaf06427a2010e5958f4329b566993472d14ce81d3f16ce7f2a2660da98e3929181900390910190a1505056fe50726963654f7261636c65416461707465724d6f633a204f7261636c652068617665206e6f20507269636550726963654f7261636c65416461707465724d6f633a206f6e6c7920677561726469616e206d61792073657420746865206164647265737350726963654f7261636c65416461707465724d6f633a206775617264696e20616464726573732063616e206e6f74206265203050726963654f7261636c65416461707465724d6f633a206f6e6c7920677561726469616e50726963654f7261636c65416461707465724d6f633a206164647265737320636f756c64206e6f742062652030a265627a7a7231582024f035e000389b573f74aa695035f90a018fc8ae7f31100bfd9fb718d6a4531d64736f6c6343000511003250726963654f7261636c65416461707465724d6f633a20677561726469616e20636f756c64206e6f74206265203050726963654f7261636c65416461707465724d6f633a20707269636550726f766964657220636f756c64206e6f742062652030",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100575760003560e01c806303fa251b1461005c578063372aa22414610080578063452a9320146100a85780635e9a523c146100b05780638a0dac4a146100e8575b600080fd5b61006461010e565b604080516001600160a01b039092168252519081900360200190f35b6100a66004803603602081101561009657600080fd5b50356001600160a01b031661011d565b005b61006461020e565b6100d6600480360360208110156100c657600080fd5b50356001600160a01b031661021d565b60408051918252519081900360200190f35b6100a6600480360360208110156100fe57600080fd5b50356001600160a01b03166102ea565b6001546001600160a01b031681565b6000546001600160a01b031633146101665760405162461bcd60e51b81526004018080602001828103825260388152602001806104096038913960400191505060405180910390fd5b6001600160a01b0381166101ab5760405162461bcd60e51b815260040180806020018281038252602d815260200180610498602d913960400191505060405180910390fd5b600180546001600160a01b038381166001600160a01b0319831681179093556040805191909216808252602082019390935281517f58d7caa9bcc8339b310213ec53c711c9157920c93aef03ac3c4a16ce01bc602e929181900390910190a15050565b6000546001600160a01b031681565b6000806000600160009054906101000a90046001600160a01b03166001600160a01b03166359e02dd76040518163ffffffff1660e01b8152600401604080518083038186803b15801561026f57600080fd5b505afa158015610283573d6000803e3d6000fd5b505050506040513d604081101561029957600080fd5b5080516020909101519092509050806102e35760405162461bcd60e51b815260040180806020018281038252602b8152602001806103de602b913960400191505060405180910390fd5b5092915050565b6000546001600160a01b031633146103335760405162461bcd60e51b81526004018080602001828103825260248152602001806104746024913960400191505060405180910390fd5b6000546001600160a01b031661037a5760405162461bcd60e51b81526004018080602001828103825260338152602001806104416033913960400191505060405180910390fd5b600080546001600160a01b038381166001600160a01b0319831681179093556040805191909216808252602082019390935281517f08fdaf06427a2010e5958f4329b566993472d14ce81d3f16ce7f2a2660da98e3929181900390910190a1505056fe50726963654f7261636c65416461707465724d6f633a204f7261636c652068617665206e6f20507269636550726963654f7261636c65416461707465724d6f633a206f6e6c7920677561726469616e206d61792073657420746865206164647265737350726963654f7261636c65416461707465724d6f633a206775617264696e20616464726573732063616e206e6f74206265203050726963654f7261636c65416461707465724d6f633a206f6e6c7920677561726469616e50726963654f7261636c65416461707465724d6f633a206164647265737320636f756c64206e6f742062652030a265627a7a7231582024f035e000389b573f74aa695035f90a018fc8ae7f31100bfd9fb718d6a4531d64736f6c63430005110032",
  "devdoc": {
    "methods": {
      "assetPrices(address)": {
        "return": "The price"
      },
      "constructor": {
        "params": {
          "guardian_": "address of guardian that is allowed to manage this contract",
          "priceProvider": "address of asset's MoC price provider"
        }
      },
      "setGuardian(address)": {
        "params": {
          "newGuardian": "address of the guardian"
        }
      },
      "setPriceProvider(address)": {
        "params": {
          "priceProviderAddress": "address of price provider"
        }
      }
    }
  },
  "userdoc": {
    "methods": {
      "assetPrices(address)": {
        "notice": "Get the price from MoC and divide it by the rBTC price"
      },
      "constructor": "Construct a PriceOracleAdapter for a MoC oracle",
      "setGuardian(address)": {
        "notice": "Set the address of the guardian"
      },
      "setPriceProvider(address)": {
        "notice": "Set the address of price provider"
      }
    }
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 36087,
        "contract": "contracts/PriceOracleAdapterMoc.sol:PriceOracleAdapterMoc",
        "label": "guardian",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 36089,
        "contract": "contracts/PriceOracleAdapterMoc.sol:PriceOracleAdapterMoc",
        "label": "priceProviderMoC",
        "offset": 0,
        "slot": "1",
        "type": "t_contract(PriceProviderMoC)36083"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_contract(PriceProviderMoC)36083": {
        "encoding": "inplace",
        "label": "contract PriceProviderMoC",
        "numberOfBytes": "20"
      }
    }
  }
}