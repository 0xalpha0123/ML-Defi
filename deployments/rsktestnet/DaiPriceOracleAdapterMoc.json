{
  "address": "0x238b2703A389D72098C0d1e76a326a2247bb5f26",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "guardian_",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "priceProvider",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "oldAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "newAddress",
          "type": "address"
        }
      ],
      "name": "PriceOracleAdapterUpdated",
      "type": "event"
    },
    {
      "constant": true,
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "assetPrices",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "guardian",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "priceProviderMoC",
      "outputs": [
        {
          "internalType": "contract PriceProviderMoC",
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "internalType": "address",
          "name": "priceProviderAddress",
          "type": "address"
        }
      ],
      "name": "setPriceProvider",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x2958eba62304b8a241975e0ae1de324912cfe7c325a10d9abf0ad9e6a687449f",
  "receipt": {
    "to": null,
    "from": "0x9C95B0EF2D3E1D9ca479524Ba738C87BE28C1585",
    "contractAddress": "0x238b2703A389D72098C0d1e76a326a2247bb5f26",
    "transactionIndex": 4,
    "gasUsed": "357738",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x670561bb665824af8e5b9d819ab087535697ed1af93266c024ea7bac8224d961",
    "transactionHash": "0x2958eba62304b8a241975e0ae1de324912cfe7c325a10d9abf0ad9e6a687449f",
    "logs": [],
    "blockNumber": 1516318,
    "cumulativeGasUsed": "590031",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x9C95B0EF2D3E1D9ca479524Ba738C87BE28C1585",
    "0xEE1e9Bc499242D2De09d10A1AffE3A6eb687d98f"
  ],
  "solcInputHash": "fda4edf483e67b25c3a5d44752ebcb04",
  "metadata": "{\"compiler\":{\"version\":\"0.5.17+commit.d19bba13.mod\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"guardian_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"priceProvider\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"oldAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newAddress\",\"type\":\"address\"}],\"name\":\"PriceOracleAdapterUpdated\",\"type\":\"event\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"assetPrices\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"guardian\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"priceProviderMoC\",\"outputs\":[{\"internalType\":\"contract PriceProviderMoC\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"priceProviderAddress\",\"type\":\"address\"}],\"name\":\"setPriceProvider\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"methods\":{\"assetPrices(address)\":{\"return\":\"The price\"},\"constructor\":{\"params\":{\"guardian_\":\"address of guardian that is allowed to manage this contract\",\"priceProvider\":\"address of asset's MoC price provider\"}},\"setPriceProvider(address)\":{\"params\":{\"priceProviderAddress\":\"address of price provider\"}}}},\"userdoc\":{\"methods\":{\"assetPrices(address)\":{\"notice\":\"Get the price from MoC and divide it by the rBTC price\"},\"constructor\":\"Construct a PriceOracleAdapter for a MoC oracle\",\"setPriceProvider(address)\":{\"notice\":\"Set the address of price provider\"}}}},\"settings\":{\"compilationTarget\":{\"contracts/PriceOracleAdapterMoc.sol\":\"PriceOracleAdapterMoc\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/PriceOracleAdapter.sol\":{\"content\":\"pragma solidity ^0.5.16;\\n\\ncontract PriceOracleAdapter {\\n    /// @notice Event adapter interface updated\\n    event PriceOracleAdapterUpdated(address oldAddress, address newAddress);\\n\\n    /**\\n     * @notice Get the price\\n     * @return The underlying asset price mantissa (scaled by 1e18).\\n     *  Zero means the price is unavailable.\\n     */\\n    function assetPrices(address cTokenAddress) external view returns (uint256);\\n}\\n\",\"keccak256\":\"0xa1e552b66c487513978cea1b1f25bd6e25d0d21adfeae879f5dff7f5d88a7204\"},\"contracts/PriceOracleAdapterMoc.sol\":{\"content\":\"pragma solidity ^0.5.16;\\n\\nimport \\\"./PriceOracleAdapter.sol\\\";\\n\\ninterface PriceProviderMoC {\\n    function peek() external view returns (bytes32, bool);\\n}\\n\\ncontract PriceOracleAdapterMoc is PriceOracleAdapter {\\n    /// @notice Address of the guardian\\n    address public guardian;\\n    /// @notice The MoC price oracle, which will continue to serve prices\\n    PriceProviderMoC public priceProviderMoC;\\n    /**\\n     * @notice Construct a PriceOracleAdapter for a MoC oracle\\n     * @param guardian_ address of guardian that is allowed to manage this contract\\n     * @param priceProvider address of asset's MoC price provider\\n     */\\n    constructor(address guardian_,address priceProvider) public {\\n        require(\\n            guardian_ != address(0),\\n            \\\"PriceOracleAdapterMoc: guardian could not be 0\\\"\\n        );\\n        require(\\n            priceProvider != address(0),\\n            \\\"PriceOracleAdapterMoc: priceProvider could not be 0\\\"\\n        );\\n        guardian = guardian_;\\n        priceProviderMoC = PriceProviderMoC(priceProvider);\\n    }\\n\\n    /**\\n     * @notice Get the price from MoC and divide it by the rBTC price\\n     * @return The price\\n     */\\n    function assetPrices(address) public view returns (uint256) {\\n        (bytes32 price, bool has) = priceProviderMoC.peek();\\n        require(has, \\\"PriceOracleAdapterMoc: Oracle have no Price\\\");\\n        return uint256(price);\\n    }\\n\\n    /**\\n     * @notice Set the address of price provider\\n     * @param priceProviderAddress address of price provider\\n     */\\n    function setPriceProvider(address priceProviderAddress) public {\\n        require(\\n            msg.sender == guardian,\\n            \\\"PriceOracleAdapterMoc: only guardian may set the address\\\"\\n        );\\n        require(\\n            priceProviderAddress != address(0),\\n            \\\"PriceOracleAdapterMoc: address could not be 0\\\"\\n        );\\n        //set old address\\n        address oldPriceProviderAddress = address(priceProviderMoC);\\n        //update interface address\\n        priceProviderMoC = PriceProviderMoC(priceProviderAddress);\\n        //emit event\\n        emit PriceOracleAdapterUpdated(\\n            oldPriceProviderAddress,\\n           priceProviderAddress\\n        );\\n    }\\n}\\n\",\"keccak256\":\"0xa6eb80020505694ffb405327670f6f3bc2caf51a3ad331215f7c0c91b59c1e48\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b506040516104e03803806104e08339818101604052604081101561003357600080fd5b5080516020909101516001600160a01b0382166100815760405162461bcd60e51b815260040180806020018281038252602e81526020018061047f602e913960400191505060405180910390fd5b6001600160a01b0381166100c65760405162461bcd60e51b81526004018080602001828103825260338152602001806104ad6033913960400191505060405180910390fd5b600080546001600160a01b039384166001600160a01b0319918216179091556001805492909316911617905561037e806101016000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c806303fa251b14610051578063372aa22414610075578063452a93201461009d5780635e9a523c146100a5575b600080fd5b6100596100dd565b604080516001600160a01b039092168252519081900360200190f35b61009b6004803603602081101561008b57600080fd5b50356001600160a01b03166100ec565b005b6100596101dd565b6100cb600480360360208110156100bb57600080fd5b50356001600160a01b03166101ec565b60408051918252519081900360200190f35b6001546001600160a01b031681565b6000546001600160a01b031633146101355760405162461bcd60e51b81526004018080602001828103825260388152602001806102e56038913960400191505060405180910390fd5b6001600160a01b03811661017a5760405162461bcd60e51b815260040180806020018281038252602d81526020018061031d602d913960400191505060405180910390fd5b600180546001600160a01b038381166001600160a01b0319831681179093556040805191909216808252602082019390935281517f58d7caa9bcc8339b310213ec53c711c9157920c93aef03ac3c4a16ce01bc602e929181900390910190a15050565b6000546001600160a01b031681565b6000806000600160009054906101000a90046001600160a01b03166001600160a01b03166359e02dd76040518163ffffffff1660e01b8152600401604080518083038186803b15801561023e57600080fd5b505afa158015610252573d6000803e3d6000fd5b505050506040513d604081101561026857600080fd5b5080516020909101519092509050806102b25760405162461bcd60e51b815260040180806020018281038252602b8152602001806102ba602b913960400191505060405180910390fd5b509291505056fe50726963654f7261636c65416461707465724d6f633a204f7261636c652068617665206e6f20507269636550726963654f7261636c65416461707465724d6f633a206f6e6c7920677561726469616e206d61792073657420746865206164647265737350726963654f7261636c65416461707465724d6f633a206164647265737320636f756c64206e6f742062652030a265627a7a723158204ca56db475e36ccc47d863da95f2d17b5f05f79abb67babab9ae0fe387676de964736f6c6343000511003250726963654f7261636c65416461707465724d6f633a20677561726469616e20636f756c64206e6f74206265203050726963654f7261636c65416461707465724d6f633a20707269636550726f766964657220636f756c64206e6f742062652030",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061004c5760003560e01c806303fa251b14610051578063372aa22414610075578063452a93201461009d5780635e9a523c146100a5575b600080fd5b6100596100dd565b604080516001600160a01b039092168252519081900360200190f35b61009b6004803603602081101561008b57600080fd5b50356001600160a01b03166100ec565b005b6100596101dd565b6100cb600480360360208110156100bb57600080fd5b50356001600160a01b03166101ec565b60408051918252519081900360200190f35b6001546001600160a01b031681565b6000546001600160a01b031633146101355760405162461bcd60e51b81526004018080602001828103825260388152602001806102e56038913960400191505060405180910390fd5b6001600160a01b03811661017a5760405162461bcd60e51b815260040180806020018281038252602d81526020018061031d602d913960400191505060405180910390fd5b600180546001600160a01b038381166001600160a01b0319831681179093556040805191909216808252602082019390935281517f58d7caa9bcc8339b310213ec53c711c9157920c93aef03ac3c4a16ce01bc602e929181900390910190a15050565b6000546001600160a01b031681565b6000806000600160009054906101000a90046001600160a01b03166001600160a01b03166359e02dd76040518163ffffffff1660e01b8152600401604080518083038186803b15801561023e57600080fd5b505afa158015610252573d6000803e3d6000fd5b505050506040513d604081101561026857600080fd5b5080516020909101519092509050806102b25760405162461bcd60e51b815260040180806020018281038252602b8152602001806102ba602b913960400191505060405180910390fd5b509291505056fe50726963654f7261636c65416461707465724d6f633a204f7261636c652068617665206e6f20507269636550726963654f7261636c65416461707465724d6f633a206f6e6c7920677561726469616e206d61792073657420746865206164647265737350726963654f7261636c65416461707465724d6f633a206164647265737320636f756c64206e6f742062652030a265627a7a723158204ca56db475e36ccc47d863da95f2d17b5f05f79abb67babab9ae0fe387676de964736f6c63430005110032",
  "devdoc": {
    "methods": {
      "assetPrices(address)": {
        "return": "The price"
      },
      "constructor": {
        "params": {
          "guardian_": "address of guardian that is allowed to manage this contract",
          "priceProvider": "address of asset's MoC price provider"
        }
      },
      "setPriceProvider(address)": {
        "params": {
          "priceProviderAddress": "address of price provider"
        }
      }
    }
  },
  "userdoc": {
    "methods": {
      "assetPrices(address)": {
        "notice": "Get the price from MoC and divide it by the rBTC price"
      },
      "constructor": "Construct a PriceOracleAdapter for a MoC oracle",
      "setPriceProvider(address)": {
        "notice": "Set the address of price provider"
      }
    }
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 28483,
        "contract": "contracts/PriceOracleAdapterMoc.sol:PriceOracleAdapterMoc",
        "label": "guardian",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 28485,
        "contract": "contracts/PriceOracleAdapterMoc.sol:PriceOracleAdapterMoc",
        "label": "priceProviderMoC",
        "offset": 0,
        "slot": "1",
        "type": "t_contract(PriceProviderMoC)28479"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_contract(PriceProviderMoC)28479": {
        "encoding": "inplace",
        "label": "contract PriceProviderMoC",
        "numberOfBytes": "20"
      }
    }
  }
}